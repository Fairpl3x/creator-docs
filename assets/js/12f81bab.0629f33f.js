"use strict";(self.webpackChunkVRChat_Creator_Docs=self.webpackChunkVRChat_Creator_Docs||[]).push([[3664],{38050:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>h,frontMatter:()=>a,metadata:()=>o,toc:()=>c});var n=r(74848),i=r(28453);const a={title:"VRCGraphics",sidebar_position:2,createdAt:"2022-10-27T00:44:59.293Z",updatedAt:"2023-02-14T13:45:29.978Z"},s="Types",o={id:"worlds/vrc-graphics/index",title:"VRCGraphics",description:"VRCShader",source:"@site/docs/worlds/vrc-graphics/index.md",sourceDirName:"worlds/vrc-graphics",slug:"/worlds/vrc-graphics/",permalink:"/creator-docs-i18n/worlds/vrc-graphics/",draft:!1,unlisted:!1,editUrl:"https://github.com/FairplexVR/creator-docs/edit/main/Docs/docs/worlds/vrc-graphics/index.md",tags:[],version:"current",lastUpdatedBy:"github-actions[bot]",lastUpdatedAt:1687362168,formattedLastUpdatedAt:"Jun 21, 2023",sidebarPosition:2,frontMatter:{title:"VRCGraphics",sidebar_position:2,createdAt:"2022-10-27T00:44:59.293Z",updatedAt:"2023-02-14T13:45:29.978Z"},sidebar:"tutorialSidebar",previous:{title:"World Debug Views",permalink:"/creator-docs-i18n/worlds/udon/world-debug-views"},next:{title:"ASyncGPUReadback",permalink:"/creator-docs-i18n/worlds/vrc-graphics/asyncgpureadback"}},l={},c=[{value:"VRCShader",id:"vrcshader",level:2},{value:"VRCGraphics",id:"vrcgraphics",level:2},{value:"VRCGraphics.Blit()",id:"vrcgraphicsblit",level:2},{value:"Minimap Example",id:"minimap-example",level:3},{value:"Meta Quest Exceptions",id:"meta-quest-exceptions",level:3},{value:"VRCGraphics.DrawMeshInstanced()",id:"vrcgraphicsdrawmeshinstanced",level:2},{value:"VRCShader.PropertyToID()",id:"vrcshaderpropertytoid",level:2},{value:"VRCShader.SetGlobal()",id:"vrcshadersetglobal",level:2}];function d(e){const t={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",ul:"ul",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h1,{id:"types",children:"Types"}),"\n",(0,n.jsx)(t.h2,{id:"vrcshader",children:"VRCShader"}),"\n",(0,n.jsxs)(t.p,{children:["Overarching class for global shader setters. See ",(0,n.jsx)(t.a,{href:"#vrcshaderpropertytoid",children:"functions documented below"})," for more."]}),"\n",(0,n.jsx)(t.h2,{id:"vrcgraphics",children:"VRCGraphics"}),"\n",(0,n.jsx)(t.p,{children:"Exposes a subset of Unity\u2019s built-in `Graphics` class. See documented functions for more."}),"\n",(0,n.jsx)(t.h1,{id:"exposed-functions",children:"Exposed Functions"}),"\n",(0,n.jsx)(t.h2,{id:"vrcgraphicsblit",children:"VRCGraphics.Blit()"}),"\n",(0,n.jsx)(t.p,{children:"Copies source texture into destination RenderTexture with a shader. Note that we do not allow you to supply a null destination."}),"\n",(0,n.jsxs)(t.p,{children:["See: ",(0,n.jsx)(t.a,{href:"https://docs.unity3d.com/2019.4/Documentation/ScriptReference/Graphics.Blit.html",children:"https://docs.unity3d.com/2019.4/Documentation/ScriptReference/Graphics.Blit.html"})]}),"\n",(0,n.jsx)(t.h3,{id:"minimap-example",children:"Minimap Example"}),"\n",(0,n.jsxs)(t.p,{children:["The version of the SDK installed by ",(0,n.jsx)(t.a,{href:"https://vcc.docs.vrchat.com",children:"the Creator Companion"})," includes an example scene that provides a performant Minimap as an example use of Graphics.Blit. You can open it from the Unity Menu Bar under VRChat SDK > Samples > Minimap. This example uses the Udon Graph, it's also available as ",(0,n.jsx)(t.a,{href:"https://assets.vrchat.com/sdkExamples/com.vrchat-examples.minimap-1.0.0.unitypackage",children:"an UdonSharp example"}),"."]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"index-aecb84d-minimap-example.png",src:r(93531).A+"",width:"1139",height:"673"})}),"\n",(0,n.jsx)(t.h3,{id:"meta-quest-exceptions",children:"Meta Quest Exceptions"}),"\n",(0,n.jsx)(t.p,{children:"VRCGraphics.Blit will not work on the Quest GPU unless you:"}),"\n",(0,n.jsx)(t.p,{children:"Add ZTest Always to the shader\nOR\nTurn off the depth on the target RenderTexture."}),"\n",(0,n.jsx)(t.p,{children:"Failing to do so will cause the operation to fail."}),"\n",(0,n.jsx)(t.h2,{id:"vrcgraphicsdrawmeshinstanced",children:"VRCGraphics.DrawMeshInstanced()"}),"\n",(0,n.jsx)(t.p,{children:"Draw the same mesh multiple times using GPU instancing."}),"\n",(0,n.jsxs)(t.p,{children:["See: ",(0,n.jsx)(t.a,{href:"https://docs.unity3d.com/2019.4/Documentation/ScriptReference/Graphics.DrawMeshInstanced.html",children:"https://docs.unity3d.com/2019.4/Documentation/ScriptReference/Graphics.DrawMeshInstanced.html"})]}),"\n",(0,n.jsx)(t.h2,{id:"vrcshaderpropertytoid",children:"VRCShader.PropertyToID()"}),"\n",(0,n.jsx)(t.p,{children:"Use PropertyToID to get an ID based on a shader property name. Call this function only once during initialization, the ID can be reused and will not change, even between different materials and shaders."}),"\n",(0,n.jsx)(t.p,{children:"Note that the property name must be prefixed with \u201c_Udon\u201d, or be the literal string \u201c_AudioTexture\u201d in order to be used with VRCShader.SetGlobal, however, will still return the ID regardless of this."}),"\n",(0,n.jsxs)(t.p,{children:["See: ",(0,n.jsx)(t.a,{href:"https://docs.unity3d.com/2019.4/Documentation/ScriptReference/Shader.PropertyToID.html",children:"https://docs.unity3d.com/2019.4/Documentation/ScriptReference/Shader.PropertyToID.html"})]}),"\n",(0,n.jsx)(t.h2,{id:"vrcshadersetglobal",children:"VRCShader.SetGlobal()"}),"\n",(0,n.jsxs)(t.p,{children:["Use the ID acquired with PropertyToID as a key and specify a value of the correct type. The value will be available in ",(0,n.jsx)(t.em,{children:"all"})," shaders in the world (including ones on avatars!) under the name passed into PropertyToID."]}),"\n",(0,n.jsx)(t.p,{children:"Available variants:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"VRCShader.SetGlobalColor()"}),"\n",(0,n.jsx)(t.li,{children:"VRCShader.SetGlobalFloat()"}),"\n",(0,n.jsx)(t.li,{children:"VRCShader.SetGlobalFloatArray()"}),"\n",(0,n.jsxs)(t.li,{children:["VRCShader.SetGlobalInteger() still sets the value as ",(0,n.jsx)(t.code,{children:"float"})," for now, due to a Unity bug"]}),"\n",(0,n.jsx)(t.li,{children:"VRCShader.SetGlobalMatrix()"}),"\n",(0,n.jsx)(t.li,{children:"VRCShader.SetGlobalMatrixArray()"}),"\n",(0,n.jsx)(t.li,{children:"VRCShader.SetGlobalTexture()"}),"\n",(0,n.jsx)(t.li,{children:"VRCShader.SetGlobalVector()"}),"\n",(0,n.jsx)(t.li,{children:"VRCShader.SetGlobalVectorArray()"}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},93531:(e,t,r)=>{r.d(t,{A:()=>n});const n=r.p+"assets/images/index-aecb84d-minimap-example-9bc63b9d130e1cb48948e25ded09f75c.png"},28453:(e,t,r)=>{r.d(t,{R:()=>s,x:()=>o});var n=r(96540);const i={},a=n.createContext(i);function s(e){const t=n.useContext(a);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),n.createElement(a.Provider,{value:t},e.children)}}}]);